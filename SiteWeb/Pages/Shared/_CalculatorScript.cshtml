<script>
    function calculate() { const e = .062, t = .0272, n = .2108; let r = parseInt(document.getElementById("years").value), o = parseFloat(document.getElementById("initialDeposit").value), c = parseFloat(document.getElementById("furtherDeposit").value), u = parseInt(document.getElementById("numPortfolios").value), a = parseFloat(document.getElementById("dividendYield").value) / 100, l = document.getElementById("reinvest"), i = document.getElementById("inflation"), d = o, m = o, s = o, y = o, g = 0, p = 0; for (let o = 0; o < r; o++)i.checked ? (d *= .938, m *= 1.005 - e, s *= 1.018, y *= 1 + n - e) : (m *= 1.005, s *= 1.08, y *= 1 + n), d += c * u, m += c * u, s += c * u, y += c * u, g += s * t, p += y * a, l.checked && (s += s * t, y += y * a); document.querySelector("#totalInvested").innerHTML = currencyFormatter(d), document.querySelector("#savingsReturn").innerHTML = currencyFormatter(m), document.querySelector("#sp500Return").innerHTML = currencyFormatter(s), document.querySelector("#opasReturn").innerHTML = currencyFormatter(y), document.querySelector("#sp500Dividends").innerHTML = currencyFormatter(g), document.querySelector("#opasDividends").innerHTML = currencyFormatter(p) } function currencyFormatter(e) { e = e.toString().replace(/\$|\,/g, ""), isNaN(e) && (e = "0"), sign = e == (e = Math.abs(e)), e = Math.floor(100 * e + .50000000001), pence = e % 100, e = Math.floor(e / 100).toString(), pence < 10 && (pence = "0" + pence); for (var t = 0; t < Math.floor((e.length - (1 + t)) / 3); t++)e = e.substring(0, e.length - (4 * t + 3)) + "," + e.substring(e.length - (4 * t + 3)); return (sign ? "" : "-") + "£" + e + "." + pence }
</script>